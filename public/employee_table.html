<!DOCTYPE html>
<html lang="en">
<head>
    <title>IBM Coding Challenge</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js" type="text/javascript"></script>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/cupertino/jquery-ui.css">
</head>

<style>
    table, th, td {
        border:1px solid black;
    }
</style>

<body>
    <h2>IBM Coding Challenge</h2>
    <table style="width:100%" id="employeeTable">
        <tr>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Hire Date</th>
            <th>Role</th>
            <th>ID</th>
        </tr>
    </table>
    <button id="createEmployeeButton" onclick="openNewEmployeeDialog()">New Employee</button>
    <br>
    <br>
    <!-- Dialog box for creating a new employee -->
    <div id="newEmployeeDialog" title="Create New Employee">
        <form>
            <fieldset>
                <label for="newEmployeeFirstName">First Name</label>
                <input type="text" id="newEmployeeFirstName" class="text ui-widget-content ui-corner-all">
                <label for="newEmployeeLastName">Last Name</label>
                <input type="text"  id="newEmployeeLastName" class="text ui-widget-content ui-corner-all">
                <label for="newEmployeeHireDate">Hire Date</label>
                <input type="date" id="newEmployeeHireDate" class="text ui-widget-content ui-corner-all">
                <label for="newEmployeeRole">Role</label>
                <select id="newEmployeeRole" class="text ui-widget-content ui-corner-all">
                    <option value="CEO">CEO</option>
                    <option value="VP">VP</option>
                    <option value="Manager">Manager</option>
                    <option value="Lackey">Lackey</option>
                </select>
                <!-- Allow form submission with keyboard without duplicating the dialog button -->
                <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
                <button onclick="createEmployee()">Save</button>
            </fieldset>
        </form>
    </div>
</body>
<script type="text/javascript" src="public/employee_table.js"></script>
<script type="text/javascript">
    $(async () => {
        //Retrieve employees on initial page load
        await getAllEmployees();
    })
</script>
</html>
